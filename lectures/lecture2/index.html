<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ë–∏–∑–Ω–µ—Å-–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (IBP)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        .card {
            background-color: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .icon-bg {
            background-color: #e0f2fe;
            color: #0c4a6e;
        }
        .header-bg {
            background: linear-gradient(135deg, #6ac1e3, #5FA6C7);
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        <!-- Back to Main Page Button -->
        <div class="mb-4">
            <a href="https://yarsuleimenov-code.github.io/IITU_OLAP_Course/" class="inline-flex items-center text-sky-700 hover:text-sky-900 transition-colors font-semibold">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                </svg>
                <span>–ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –ª–µ–∫—Ü–∏–π</span>
            </a>
        </div>
        
        <!-- Header -->
        <header class="text-center mb-12 p-8 rounded-2xl header-bg text-white">
            <img src="/IITU_OLAP_Course/assets/Logo-white.png"
                 alt="Casplan Logo"
                 class="mx-auto mb-6 h-16">
            <h1 class="text-4xl md:text-5xl font-bold mb-2">–û—Ç –±—é—Ä–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ö–∞–æ—Å–∞ –∫ –µ–¥–∏–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</h1>
            <p class="text-lg md:text-xl text-sky-200">–ß—Ç–æ —Ç–∞–∫–æ–µ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ë–∏–∑–Ω–µ—Å-–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (IBP) –∏ –ø–æ—á–µ–º—É —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –ª–∏–¥–µ—Ä–æ–≤ —Ä—ã–Ω–∫–∞.</p>
        </header>

        <section id="problem" class="card">
            <h2 class="text-3xl font-bold text-center mb-6 text-[#003f5c]">–ü—Ä–æ–±–ª–µ–º–∞: "–í–æ–π–Ω–∞ –æ—Ç–¥–µ–ª–æ–≤" –≤ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏</h2>
            <p class="text-center mb-8 max-w-3xl mx-auto">–ë–µ–∑ –µ–¥–∏–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ –∫–∞–∂–¥—ã–π –æ—Ç–¥–µ–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–≤–æ–∏ —Ü–µ–ª–∏, —á—Ç–æ –≤–µ–¥–µ—Ç –∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º –∏ —É–±—ã—Ç–∫–∞–º. –ü—Ä–æ–¥–∞–∂–∏ –æ–±–µ—â–∞—é—Ç –±–æ–ª—å—à–µ, —á–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å, –∞ —Ñ–∏–Ω–∞–Ω—Å—ã –≤–∏–¥—è—Ç –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å–ª–∏—à–∫–æ–º –ø–æ–∑–¥–Ω–æ.</p>
            <div class="flex flex-col md:flex-row justify-around items-center space-y-8 md:space-y-0 md:space-x-4">
                <div class="text-center p-4 border-2 border-dashed border-red-300 rounded-lg">
                    <h3 class="text-xl font-semibold text-[#ff6361]">üìà –û—Ç–¥–µ–ª –ü—Ä–æ–¥–∞–∂</h3>
                    <p class="mt-2">–¶–µ–ª—å: –ú–∞–∫—Å–∏–º—É–º –ø—Ä–æ–¥–∞–∂<br>–†–µ–∑—É–ª—å—Ç–∞—Ç: –ó–∞–≤—ã—à–µ–Ω–Ω—ã–µ –æ–±–µ—â–∞–Ω–∏—è</p>
                </div>
                <div class="text-4xl font-bold text-gray-300 hidden md:block">&rarr;</div>
                 <div class="text-4xl font-bold text-gray-300 md:hidden">&darr;</div>
                <div class="text-center p-4 border-2 border-dashed border-yellow-300 rounded-lg">
                    <h3 class="text-xl font-semibold text-[#ffa600]">üè≠ –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</h3>
                    <p class="mt-2">–¶–µ–ª—å: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —ç–∫–æ–Ω–æ–º–∏—è<br>–†–µ–∑—É–ª—å—Ç–∞—Ç: –ù–µ—Ö–≤–∞—Ç–∫–∞ –Ω—É–∂–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞</p>
                </div>
                 <div class="text-4xl font-bold text-gray-300 hidden md:block">&rarr;</div>
                 <div class="text-4xl font-bold text-gray-300 md:hidden">&darr;</div>
                <div class="text-center p-4 border-2 border-dashed border-purple-300 rounded-lg">
                    <h3 class="text-xl font-semibold text-[#bc5090]">üí∞ –§–∏–Ω–∞–Ω—Å—ã</h3>
                    <p class="mt-2">–¶–µ–ª—å: –ö–æ–Ω—Ç—Ä–æ–ª—å –±—é–¥–∂–µ—Ç–∞<br>–†–µ–∑—É–ª—å—Ç–∞—Ç: –£–ø—É—â–µ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å –∏ –ª–∏—à–Ω–∏–µ –∑–∞–ø–∞—Å—ã</p>
                </div>
            </div>
        </section>

        <section id="comparison" class="card">
            <h2 class="text-3xl font-bold text-center mb-8 text-[#003f5c]">–°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥ vs. –ù–æ–≤—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="p-6 border border-gray-200 rounded-lg">
                    <h3 class="text-2xl font-semibold text-center mb-4 text-[#ff6361]">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ –±—é–¥–∂–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
                    <ul class="space-y-3">
                        <li class="flex items-start"><span class="text-red-500 mr-2">&#10007;</span> <strong>–§–æ–∫—É—Å:</strong> –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å</li>
                        <li class="flex items-start"><span class="text-red-500 mr-2">&#10007;</span> <strong>–ì–æ—Ä–∏–∑–æ–Ω—Ç:</strong> –°—Ç–∞—Ç–∏—á–Ω—ã–π, 1 –≥–æ–¥</li>
                        <li class="flex items-start"><span class="text-red-500 mr-2">&#10007;</span> <strong>–†–µ–∞–∫—Ü–∏—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:</strong> –ú–µ–¥–ª–µ–Ω–Ω–∞—è, —Ä–∞–∑ –≤ –≥–æ–¥</li>
                        <li class="flex items-start"><span class="text-red-500 mr-2">&#10007;</span> <strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –ü–ª–∞–Ω –±—ã—Å—Ç—Ä–æ —É—Å—Ç–∞—Ä–µ–≤–∞–µ—Ç</li>
                    </ul>
                </div>
                <div class="p-6 border-2 border-[#58508d] rounded-lg bg-indigo-50">
                    <h3 class="text-2xl font-semibold text-center mb-4 text-[#58508d]">–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (IBP)</h3>
                     <ul class="space-y-3">
                        <li class="flex items-start"><span class="text-green-500 mr-2">&#10003;</span> <strong>–§–æ–∫—É—Å:</strong> –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏–±—ã–ª–∏</li>
                        <li class="flex items-start"><span class="text-green-500 mr-2">&#10003;</span> <strong>–ì–æ—Ä–∏–∑–æ–Ω—Ç:</strong> –°–∫–æ–ª—å–∑—è—â–∏–π, 18-36 –º–µ—Å—è—Ü–µ–≤</li>
                        <li class="flex items-start"><span class="text-green-500 mr-2">&#10003;</span> <strong>–†–µ–∞–∫—Ü–∏—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:</strong> –ë—ã—Å—Ç—Ä–∞—è, –µ–∂–µ–º–µ—Å—è—á–Ω—ã–π —Ü–∏–∫–ª</li>
                        <li class="flex items-start"><span class="text-green-500 mr-2">&#10003;</span> <strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –ê–∫—Ç—É–∞–ª—å–Ω—ã–π –∏ –≥–∏–±–∫–∏–π –ø–ª–∞–Ω</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="cycle" class="card">
            <h2 class="text-3xl font-bold text-center mb-8 text-[#003f5c]">–°–µ—Ä–¥—Ü–µ IBP: 5-—à–∞–≥–æ–≤—ã–π —Ü–∏–∫–ª —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è</h2>
            <p class="text-center mb-10 max-w-3xl mx-auto">–ö–∞–∂–¥—ã–π –º–µ—Å—è—Ü –∫–æ–º–ø–∞–Ω–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —ç—Ç–æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –≤—Å–µ –æ—Ç–¥–µ–ª—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏ –¥–≤–∏–∂—É—Ç—Å—è –∫ –µ–¥–∏–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–π —Ü–µ–ª–∏.</p>
            <div class="relative w-full">
                <div class="grid grid-cols-1 md:grid-cols-5 gap-4 text-center">
                    <div class="p-4 rounded-lg bg-gray-100">
                        <div class="text-3xl mb-2">üì¶</div>
                        <h3 class="font-bold text-[#003f5c]">1. –û–±–∑–æ—Ä –ü—Ä–æ–¥—É–∫—Ç–∞</h3>
                        <p class="text-sm text-gray-600 mt-1">–ß—Ç–æ –º—ã –±—É–¥–µ–º –ø—Ä–æ–¥–∞–≤–∞—Ç—å?</p>
                    </div>
                     <div class="p-4 rounded-lg bg-gray-100">
                        <div class="text-3xl mb-2">üìä</div>
                        <h3 class="font-bold text-[#58508d]">2. –û–±–∑–æ—Ä –°–ø—Ä–æ—Å–∞</h3>
                        <p class="text-sm text-gray-600 mt-1">–°–∫–æ–ª—å–∫–æ –º—ã –º–æ–∂–µ–º –ø—Ä–æ–¥–∞—Ç—å?</p>
                    </div>
                     <div class="p-4 rounded-lg bg-gray-100">
                        <div class="text-3xl mb-2">üè≠</div>
                        <h3 class="font-bold text-[#bc5090]">3. –û–±–∑–æ—Ä –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</h3>
                        <p class="text-sm text-gray-600 mt-1">–°–∫–æ–ª—å–∫–æ –º—ã –º–æ–∂–µ–º –ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏?</p>
                    </div>
                     <div class="p-4 rounded-lg bg-gray-100">
                        <div class="text-3xl mb-2">üí∞</div>
                        <h3 class="font-bold text-[#ff6361]">4. –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –û–±–∑–æ—Ä</h3>
                        <p class="text-sm text-gray-600 mt-1">–ù–∞—Å–∫–æ–ª—å–∫–æ —ç—Ç–æ –ø—Ä–∏–±—ã–ª—å–Ω–æ?</p>
                    </div>
                     <div class="p-4 rounded-lg bg-gray-100">
                        <div class="text-3xl mb-2">ü§ù</div>
                        <h3 class="font-bold text-[#ffa600]">5. –°–æ–±—Ä–∞–Ω–∏–µ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞</h3>
                        <p class="text-sm text-gray-600 mt-1">–ü—Ä–∏–Ω—è—Ç–∏–µ –µ–¥–∏–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="cascade" class="card">
             <h2 class="text-3xl font-bold text-center mb-2 text-[#003f5c]">–°–∏–ª–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: –û—Ç –ø—Ä–æ–≥–Ω–æ–∑–∞ –¥–æ –ø—Ä–∏–±—ã–ª–∏</h2>
             <p class="text-center mb-8 max-w-3xl mx-auto">IBP-—Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≤—è–∑—ã–≤–∞—é—Ç –ø–ª–∞–Ω—ã —Ä–∞–∑–Ω—ã—Ö –æ—Ç–¥–µ–ª–æ–≤. –ü—Ä–æ–≥–Ω–æ–∑ –ø—Ä–æ–¥–∞–∂ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –ø–ª–∞–Ω –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä—ã–π, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è —Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è. –≠—Ç–æ —É—Å—Ç—Ä–∞–Ω—è–µ—Ç —Ä—É—á–Ω—É—é —Ä–∞–±–æ—Ç—É –∏ –æ—à–∏–±–∫–∏.</p>
             <div class="chart-container">
                <canvas id="cascadeChart"></canvas>
            </div>
        </section>

        <section id="scenarios" class="card">
            <h2 class="text-3xl font-bold text-center mb-2 text-[#003f5c]">–ó–∞–≥–ª—è–Ω—É—Ç—å –≤ –±—É–¥—É—â–µ–µ: "–ß—Ç–æ, –µ—Å–ª–∏...?"</h2>
            <p class="text-center mb-8 max-w-3xl mx-auto">–í–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ –∂–µ—Å—Ç–∫–æ–≥–æ –ø–ª–∞–Ω–∞, IBP –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π –±—É–¥—É—â–µ–≥–æ. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∫–æ–º–ø–∞–Ω–∏–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ –ª—é–±—ã–º —Ä–∏—Å–∫–∞–º –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º, –±—É–¥—å —Ç–æ –ø–∞–¥–µ–Ω–∏–µ —Å–ø—Ä–æ—Å–∞ –∏–ª–∏ —Ä–µ–∑–∫–∏–π —Ä–æ—Å—Ç –∫—É—Ä—Å–∞ –≤–∞–ª—é—Ç.</p>
            <div class="chart-container">
                <canvas id="scenarioChart"></canvas>
            </div>
        </section>

        <section id="impact" class="card">
            <h2 class="text-3xl font-bold text-center mb-8 text-[#003f5c]">–ë–∏–∑–Ω–µ—Å-—ç—Ñ—Ñ–µ–∫—Ç: –ò–∑–º–µ—Ä–∏–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
             <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div>
                    <p class="mb-6">–í–Ω–µ–¥—Ä–µ–Ω–∏–µ IBP –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–º—É —É–ª—É—á—à–µ–Ω–∏—é –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –ö–æ–º–ø–∞–Ω–∏–∏ –ø–æ–ª—É—á–∞—é—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–µ –∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, —á—Ç–æ –Ω–∞–ø—Ä—è–º—É—é –≤–ª–∏—è–µ—Ç –Ω–∞ –∏—Ö –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏ –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å.</p>
                    <div class="space-y-4">
                        <div class="p-4 bg-green-100 rounded-lg">
                            <p class="text-3xl font-bold text-green-700">+15%</p>
                            <p class="text-green-800">–¢–æ—á–Ω–æ—Å—Ç—å –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è</p>
                        </div>
                         <div class="p-4 bg-red-100 rounded-lg">
                            <p class="text-3xl font-bold text-red-700">-25%</p>
                            <p class="text-red-800">–ò–∑–±—ã—Ç–æ—á–Ω—ã–µ –∑–∞–ø–∞—Å—ã –Ω–∞ —Å–∫–ª–∞–¥–µ</p>
                        </div>
                         <div class="p-4 bg-blue-100 rounded-lg">
                            <p class="text-3xl font-bold text-blue-700">+10%</p>
                            <p class="text-blue-800">–£—Ä–æ–≤–µ–Ω—å –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞</p>
                        </div>
                    </div>
                </div>
                <div class="chart-container h-64 md:h-80">
                    <canvas id="impactChart"></canvas>
                </div>
            </div>
        </section>

        <footer class="text-center mt-12 py-6 border-t">
            <p class="text-gray-600">IBP ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ, –≥–∏–±–∫–æ–≥–æ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞.</p>
        </footer>

    </div>

    <script>
        window.onload = function() {
            const wrapLabel = (label) => {
                const maxLength = 16;
                if (label.length <= maxLength) {
                    return label;
                }
                const words = label.split(' ');
                let lines = [];
                let currentLine = '';
                words.forEach(word => {
                    if ((currentLine + ' ' + word).trim().length > maxLength) {
                        lines.push(currentLine.trim());
                        currentLine = word;
                    } else {
                        currentLine = (currentLine + ' ' + word).trim();
                    }
                });
                lines.push(currentLine.trim());
                return lines;
            };

            const tooltipTitleCallback = (tooltipItems) => {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                if (Array.isArray(label)) {
                    return label.join(' ');
                }
                return label;
            };
            
            const commonChartOptions = {
                maintainAspectRatio: false,
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            title: tooltipTitleCallback
                        }
                    }
                }
            };

            const colors = {
                blue: '#003f5c',
                purple: '#58508d',
                magenta: '#bc5090',
                red: '#ff6361',
                orange: '#ffa600',
                green: '#22c55e',
                yellow: '#f59e0b',
                base: '#6b7280'
            };

            new Chart(document.getElementById('cascadeChart'), {
                type: 'bar',
                data: {
                    labels: ['–ü—Ä–æ–≥–Ω–æ–∑ –û—Ç–¥–µ–ª–∞ –ü—Ä–æ–¥–∞–∂', '–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞', '–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–π –ü–ª–∞–Ω', '–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –†–µ–∑—É–ª—å—Ç–∞—Ç (P&L)'].map(wrapLabel),
                    datasets: [{
                        label: '–û–±—ä–µ–º (–≤ –µ–¥–∏–Ω–∏—Ü–∞—Ö –∏ –º–ª–Ω. $)',
                        data: [1000, 700, 700, 3.5],
                        backgroundColor: [colors.blue, colors.red, colors.purple, colors.green],
                        borderColor: '#ffffff',
                        borderWidth: 2
                    }]
                },
                options: {
                    ...commonChartOptions,
                     scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value, index, values) {
                                    if (index === 3) return '$' + value + 'M';
                                    return value;
                                }
                            }
                        }
                    }
                }
            });
            
            new Chart(document.getElementById('scenarioChart'), {
                type: 'line',
                data: {
                    labels: ['Q1', 'Q2', 'Q3', 'Q4', 'Q1+1', 'Q2+1'],
                    datasets: [{
                        label: '–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π',
                        data: [5.0, 5.5, 6.2, 7.0, 7.5, 8.2],
                        borderColor: colors.green,
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        fill: true,
                        tension: 0.4
                    }, {
                        label: '–ë–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π',
                        data: [5.0, 5.2, 5.5, 5.8, 6.1, 6.4],
                        borderColor: colors.base,
                        backgroundColor: 'rgba(107, 114, 128, 0.1)',
                        fill: true,
                        tension: 0.4
                    }, {
                        label: '–ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π',
                        data: [5.0, 4.8, 4.5, 4.2, 4.0, 3.8],
                        borderColor: colors.red,
                        backgroundColor: 'rgba(255, 99, 97, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    ...commonChartOptions,
                    scales: {
                         y: {
                            beginAtZero: false,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value + 'M';
                                }
                            },
                            title: {
                                display: true,
                                text: '–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–∞—è –ü—Ä–∏–±—ã–ª—å (P&L)'
                            }
                        }
                    }
                }
            });
            
            new Chart(document.getElementById('impactChart'), {
                type: 'doughnut',
                data: {
                    labels: ['–†–æ—Å—Ç –ü—Ä–∏–±—ã–ª–∏', '–°–Ω–∏–∂–µ–Ω–∏–µ –ó–∞—Ç—Ä–∞—Ç', '–£–ª—É—á—à–µ–Ω–∏–µ –°–µ—Ä–≤–∏—Å–∞'],
                    datasets: [{
                        label: '–û–±–ª–∞—Å—Ç–∏ –≤–ª–∏—è–Ω–∏—è IBP',
                        data: [40, 35, 25],
                        backgroundColor: [colors.purple, colors.magenta, colors.orange],
                        hoverOffset: 4
                    }]
                },
                options: {
                    ...commonChartOptions,
                    plugins: {
                         ...commonChartOptions.plugins,
                         legend: {
                             position: 'bottom'
                         }
                    }
                }
            });
        };
    </script>
</body>
</html>
